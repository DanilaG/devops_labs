# K8s secrets and resources

## Create a secret

```
...% kubectl create secret generic app-python-secret --from-literal=username="app-python"
secret/app-python-secret created
```
## Verification and decoding

### Is exist

```
...% kubectl get secret app-python-secret
NAME                TYPE     DATA   AGE
app-python-secret   Opaque   1      7m22s
```

### Value

```
...% kubectl get secret app-python-secret -o jsonpath='{.data.username}'
YXBwLXB5dGhvbg==%
```

### Decoded value

```
...% kubectl get secret app-python-secret -o jsonpath='{.data.username}' | base64 -d
app-python%
```

## Helm

### Get pods

```
...% kubectl get po
NAME                         READY   STATUS    RESTARTS   AGE
app-python-bc889db77-g6p2p   1/1     Running   0          19s
app-python-bc889db77-jdkw6   1/1     Running   0          19s
app-python-bc889db77-xvzdr   1/1     Running   0          19s
```

### Check the secret inside pod

```
...% kubectl exec app-python-bc889db77-g6p2p -- printenv | grep SECRETS_USERNAME
SECRETS_USERNAME=app-python-user
```
